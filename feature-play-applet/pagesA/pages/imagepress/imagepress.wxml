<view class="container">
    <view style="padding-top: 50px;">
        <button bindtap="chooseImage" class="butss">é€‰æ‹©å›¾ç‰‡</button>
    </view>
    <view class="btn-wrap" style="margin-top: {{isShowTips?'10px':'20px'}}"></view>
    <view class="tips-wrap" wx:if="{{isShowTips}}">
        <text class="tips">ğŸ’¡æ”¯æŒç²¾ç¡®è®¾ç½®å¤§å°ç²¾ç¡®åˆ°KBï¼›</text>
        <text class="tips">ğŸ’¡å›¾å‹é‡‡ç”¨æ— æœåŠ¡å™¨è¿è¡Œå‹ç¼©ï¼›</text>
    </view>
    <view class="image-info-wrap" wx:if="{{size}}">
        <view class="text-wrap">
            <view class="desc-wrap">
                <text style="font-size: 20px; line-height: 0px; font-weight: 600;">
          å›¾ç‰‡å¤§å°ï¼š<text class="highlight">{{size}}</text> KB
        </text>
                <text bindtap="handleDetail" class="highlight" style="font-size: 18px;">{{isShowImageInfo?'æ”¶èµ·':'å›¾ç‰‡ä¿¡æ¯'}}
        </text>
            </view>
            <view class="input-wrap">
                <view style="font-size: 18px; margin: 20px 0 10px 0; font-weight: 600;">è¦æŠŠè¿™å¼ å›¾ç‰‡å‹ç¼©åˆ°å¤šå°‘ KB ä»¥å†…ï¼Ÿ</view>
                <view style="font-size: 14px; color: #bbb">ğŸ’¡å‹ç¼©åå›¾ç‰‡å°†å°äºè®¾å®šä½“ç§¯å¹¶å°½å¯èƒ½ä¿æŒæ¥è¿‘</view>
                <view style="font-size: 14px; color: #bbb">ğŸ’¡å¦‚æœæƒ³å‹ç¼©åˆ°æè‡´ï¼Œè¯·ç›´æ¥æ‹–åˆ° 0</view>
                <view style="font-size: 14px; color: #bbb">ğŸ’¡1 MB = 1024 KB</view>
                <slider showValue activeColor="#000" bindchange="handleSliderChange" blockSize="28" class="number-input" disabled="{{compressing}}" max="{{size}}" min="0" value="{{size*0.7}}"></slider>
            </view>
            <view class="image-info {{isShowImageInfo?'show-image-info':''}}">
                <view>
                    <text style="font-weight: 500;">å›¾ç‰‡å®½åº¦ï¼š</text>{{exif['Image Width'].description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">å›¾ç‰‡é«˜åº¦ï¼š</text>{{exif['Image Height'].description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">ç”Ÿäº§å•†ï¼š</text>{{exif.Make.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">è®¾å¤‡å‹å·ï¼š</text>{{exif.Model.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">è½¯ä»¶ç‰ˆæœ¬ï¼š</text>{{exif.Software.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">ä¿®æ”¹æ—¥æœŸï¼š</text>{{exif.DateTime.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">æ›å…‰æ—¶é—´ï¼š</text>{{exif.ExposureTime.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">ISOï¼š</text>{{exif.ISOSpeedRatings.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">åŸå§‹æ—¥æœŸï¼š</text>{{exif.DateTimeOriginal.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">å¿«é—¨é€Ÿåº¦ï¼š</text>{{exif.ShutterSpeedValue.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">å…‰åœˆå¤§å°ï¼š</text>{{exif.ApertureValue.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">äº®åº¦å€¼ï¼š</text>{{exif.BrightnessValue.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">ç„¦è·ï¼š</text>{{exif.FocalLength.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">ç™½å¹³è¡¡ï¼š</text>{{exif.WhiteBalance.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">é•œå¤´ç”Ÿäº§å•†ï¼š</text>{{exif.LensMake.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">é•œå¤´å‹å·ï¼š</text>{{exif.LensModel.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">GPS/çº¬åº¦ï¼š</text>{{exif.GPSLatitude.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">GPS/ç»åº¦ï¼š</text>{{exif.GPSLongitude.description||'-'}}</view>
                <view>
                    <text style="font-weight: 500;">æµ·æ‹”é«˜åº¦ï¼š</text>{{exif.GPSAltitude.description||'-'}}</view>
            </view>
        </view>
        <canvas bindtouchstart="handlePreviewOriginImage" canvasId="myCanvas" style="width: {{width}}px; height: {{height}}px"></canvas>
        <view class="compress-text" wx:if="{{compressing&&!compressedSrc}}">å‹ç¼©ä¸­...</view>
        <view class="compress-text" wx:if="{{compressedSrc}}">
      å‹ç¼©åå›¾ç‰‡å¤§å°æ˜¯ï¼š<text class="highlight">{{compressedSize}}</text> KB</view>
        <view style="font-size: 14px; color: #bbb" wx:if="{{compressedSize>targetSize}}">ğŸ’¡å·²ç»è¾¾åˆ°å‹ç¼©æé™ï¼Œä¸èƒ½æ›´ç³Šäº†</view>
        <image bindtap="handlePreviewCompressImage" class="compressed-image" src="{{compressedSrc}}" style="width: {{width}}px; height: {{height}}px; margin-top: 10px;" wx:if="{{compressedSrc}}"></image>
        <view class="save-btn-wrap">
            <button bindtap="saveCompressedImage" class="save-btn" wx:if="{{compressedSrc&&!isShowSetting}}">ä¿å­˜å‹ç¼©å›¾ç‰‡</button>
            <button bindtap="openSetting" class="save-btn" wx:if="{{isShowSetting}}">æ‰“å¼€æƒé™è®¾ç½®</button>
        </view>
    </view>
</view>

<view  style="margin-bottom: auto;" wx:if="{{appConfig.ad.wxcustomA}}">
      <ad-custom unit-id="{{appConfig.ad.wxcustomA}}" ></ad-custom>
    </view>